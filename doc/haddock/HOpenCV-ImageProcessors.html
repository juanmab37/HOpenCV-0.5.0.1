<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>HOpenCV.ImageProcessors</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_HOpenCV-ImageProcessors.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Noam Lewis 2010</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>Noam Lewis &lt;jones.noamle@gmail.com&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>tested on GHC only</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">HOpenCV.ImageProcessors</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>ImageProcessors is a functional (Processor-based) interface to computer vision using Open</p><p>The Processor interface allows the primitives in this library to take care of all the allocation / deallocation
 of resources and other setup/teardown requirements, and to appropriately nest them when combining primitives.</p><p>Simple example:</p><pre>win = window 0        -- The number is essentially a label for the window
cam = camera 0        -- Autodetect camera
edge = canny 30 190 3 -- Edge detecting processor using canny operator

test = cam &gt;&gt;&gt; edge &gt;&gt;&gt; win</pre><p>The last expression is a processor that captures frames from camera and displays edge-detected version in the window.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:ImageSink">ImageSink</a> = IOSink <a href="HOpenCV-ImageProcessors.html#t:Image">Image</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:ImageSource">ImageSource</a> = IOSource () <a href="HOpenCV-ImageProcessors.html#t:Image">Image</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:ImageProcessor">ImageProcessor</a> = IOProcessor <a href="HOpenCV-ImageProcessors.html#t:Image">Image</a> <a href="HOpenCV-ImageProcessors.html#t:Image">Image</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Image">Image</a> = <a href="HOpenCV-CV-CxCore.html#t:IplImage">IplImage</a></li><li class="src short"><a href="#v:camera">camera</a> :: Int -&gt; <a href="HOpenCV-ImageProcessors.html#t:ImageSource">ImageSource</a></li><li class="src short"><a href="#v:videoFile">videoFile</a> :: String -&gt; <a href="HOpenCV-ImageProcessors.html#t:ImageSource">ImageSource</a></li><li class="src short"><a href="#v:window">window</a> :: Int -&gt; <a href="HOpenCV-ImageProcessors.html#t:ImageSink">ImageSink</a></li><li class="src short"><a href="#v:namedWindowIP">namedWindowIP</a> :: String -&gt; Bool -&gt; <a href="HOpenCV-ImageProcessors.html#t:ImageSink">ImageSink</a></li><li class="src short"><a href="#v:resizeIP">resizeIP</a> :: Int -&gt; Int -&gt; <a href="HOpenCV-CV-CV.html#t:InterpolationMethod">InterpolationMethod</a> -&gt; <a href="HOpenCV-ImageProcessors.html#t:ImageProcessor">ImageProcessor</a></li><li class="src short"><a href="#v:dilateIP">dilateIP</a> :: Int -&gt; <a href="HOpenCV-ImageProcessors.html#t:ImageProcessor">ImageProcessor</a></li><li class="src short"><a href="#v:cannyIP">cannyIP</a> :: Int -&gt; Int -&gt; Int -&gt; <a href="HOpenCV-ImageProcessors.html#t:ImageProcessor">ImageProcessor</a></li><li class="src short"><a href="#v:haarDetect">haarDetect</a> :: String -&gt; Double -&gt; Int -&gt; <a href="HOpenCV-CV-CV.html#t:HaarDetectFlag">HaarDetectFlag</a> -&gt; <a href="HOpenCV-CV-CxCore.html#t:CvSize">CvSize</a> -&gt; IOProcessor <a href="HOpenCV-ImageProcessors.html#t:Image">Image</a> [<a href="HOpenCV-CV-CxCore.html#t:CvRect">CvRect</a>]</li><li class="src short"><a href="#v:drawRects">drawRects</a> :: IOProcessor (<a href="HOpenCV-ImageProcessors.html#t:Image">Image</a>, [<a href="HOpenCV-CV-CxCore.html#t:CvRect">CvRect</a>]) <a href="HOpenCV-ImageProcessors.html#t:Image">Image</a></li><li class="src short"><a href="#v:runTill">runTill</a> :: IOProcessor () b -&gt; (b -&gt; IO Bool) -&gt; IO b</li><li class="src short"><a href="#v:runTillKeyPressed">runTillKeyPressed</a> :: Show a =&gt; IOProcessor () a -&gt; IO ()</li><li class="src short"><a href="#v:keyPressed">keyPressed</a> :: Show a =&gt; a -&gt; IO Bool</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ImageSink" class="def">ImageSink</a> = IOSink <a href="HOpenCV-ImageProcessors.html#t:Image">Image</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ImageSource" class="def">ImageSource</a> = IOSource () <a href="HOpenCV-ImageProcessors.html#t:Image">Image</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ImageProcessor" class="def">ImageProcessor</a> = IOProcessor <a href="HOpenCV-ImageProcessors.html#t:Image">Image</a> <a href="HOpenCV-ImageProcessors.html#t:Image">Image</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Image" class="def">Image</a> = <a href="HOpenCV-CV-CxCore.html#t:IplImage">IplImage</a></p></div><div class="top"><p class="src"><a name="v:camera" class="def">camera</a> :: Int -&gt; <a href="HOpenCV-ImageProcessors.html#t:ImageSource">ImageSource</a></p><div class="doc"><p>A capture device, using OpenCV's HighGui lib's cvCreateCameraCapture
 should work with most webcames. See OpenCV's docs for information.
 This processor outputs the latest image from the camera at each invocation.</p></div></div><div class="top"><p class="src"><a name="v:videoFile" class="def">videoFile</a> :: String -&gt; <a href="HOpenCV-ImageProcessors.html#t:ImageSource">ImageSource</a></p></div><div class="top"><p class="src"><a name="v:window" class="def">window</a> :: Int -&gt; <a href="HOpenCV-ImageProcessors.html#t:ImageSink">ImageSink</a></p><div class="doc"><p>A window that displays images.
 Note: windows with the same index will be the same window....is this ok?
 Response: Yes. It will display whatever images you give it.</p></div></div><div class="top"><p class="src"><a name="v:namedWindowIP" class="def">namedWindowIP</a> :: String -&gt; Bool -&gt; <a href="HOpenCV-ImageProcessors.html#t:ImageSink">ImageSink</a></p></div><div class="top"><p class="src"><a name="v:resizeIP" class="def">resizeIP</a> :: Int -&gt; Int -&gt; <a href="HOpenCV-CV-CV.html#t:InterpolationMethod">InterpolationMethod</a> -&gt; <a href="HOpenCV-ImageProcessors.html#t:ImageProcessor">ImageProcessor</a></p><div class="doc"><p>OpenCV's cvResize</p></div></div><div class="top"><p class="src"><a name="v:dilateIP" class="def">dilateIP</a> :: Int -&gt; <a href="HOpenCV-ImageProcessors.html#t:ImageProcessor">ImageProcessor</a></p><div class="doc"><p>OpenCV's cvDilate</p></div></div><div class="top"><p class="src"><a name="v:cannyIP" class="def">cannyIP</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>Threshold 1</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Threshold 2</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Size</p></td></tr><tr><td class="src">-&gt; <a href="HOpenCV-ImageProcessors.html#t:ImageProcessor">ImageProcessor</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>OpenCV's cvCanny</p></div></div><div class="top"><p class="src"><a name="v:haarDetect" class="def">haarDetect</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: String</td><td class="doc"><p>Cascade filename (OpenCV comes with several, including ones for face detection)</p></td></tr><tr><td class="src">-&gt; Double</td><td class="doc"><p>scale factor</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>min neighbors</p></td></tr><tr><td class="src">-&gt; <a href="HOpenCV-CV-CV.html#t:HaarDetectFlag">HaarDetectFlag</a></td><td class="doc"><p>flags</p></td></tr><tr><td class="src">-&gt; <a href="HOpenCV-CV-CxCore.html#t:CvSize">CvSize</a></td><td class="doc"><p>min size</p></td></tr><tr><td class="src">-&gt; IOProcessor <a href="HOpenCV-ImageProcessors.html#t:Image">Image</a> [<a href="HOpenCV-CV-CxCore.html#t:CvRect">CvRect</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Wrapper for OpenCV's cvHaarDetectObjects and the surrounding required things (mem storage, cascade loading, etc).</p></div></div><div class="top"><p class="src"><a name="v:drawRects" class="def">drawRects</a> :: IOProcessor (<a href="HOpenCV-ImageProcessors.html#t:Image">Image</a>, [<a href="HOpenCV-CV-CxCore.html#t:CvRect">CvRect</a>]) <a href="HOpenCV-ImageProcessors.html#t:Image">Image</a></p><div class="doc"><p>OpenCV's cvRectangle, currently without width, color or line type control</p></div></div><div class="top"><p class="src"><a name="v:runTill" class="def">runTill</a> :: IOProcessor () b -&gt; (b -&gt; IO Bool) -&gt; IO b</p><div class="doc"><p>Runs the processor until a predicate is true, for predicates, and processors that take () as input
 (such as chains that start with a camera).</p></div></div><div class="top"><p class="src"><a name="v:runTillKeyPressed" class="def">runTillKeyPressed</a> :: Show a =&gt; IOProcessor () a -&gt; IO ()</p><div class="doc"><p>Name (and type) says it all.</p></div></div><div class="top"><p class="src"><a name="v:keyPressed" class="def">keyPressed</a> :: Show a =&gt; a -&gt; IO Bool</p><div class="doc"><p>Some general utility functions for use with Processors and OpenCV</p><p>Predicate for pressed keys</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>